# This provides additional configuration for each Config item.  
config:
  - key: stuff.yml # The Config KEY in TAP
    destination: /custom/stuff.yml # A symlink will be created at this path to /tap/config/${key}
    encoding: base64 # Optional parameter which, if provided, decodes a base64 encoded config item's contents before writing to the file. Defaults to 'text' if not provided.
  - key: things.yml
    destination: /custom/things.yml
# This section is the same as Config, but for Secret items
secret:
  - key: secret.yml
    destination: /tap/secret/secert.yml
    encoding: base64 # Optional parameter for base64 decoding. Defaults to 'text' if not provided.
# This section configures the behavior after Config/Secrets are downloaded
run:
  # This section configures what command gets executed after downloading config/secrets
  command: ["/custom/start.sh", "--log-level", "debug"]   
  exec: true # This configures if the command should be executed, or if the runtime-connector should exit after downloading
  
# This section configures the metadata metrics emitted by all the platform connectors used by the TAP team
metadata:
  language: python # What language is used (can be omitted)
  framework: flask # What high level framework is used (can be omitted)

vault:
  # url: http://localhost:8200
  url: https://prod.vault.target.com
  team: fit_cost
  secret:
    template:
      file: /tap/config/secret.tpl.yml
    output:
      file: /tap/secret/secret.yml
    key:
      prefix: fit_cost/prod
      # prefix: "{{.VaultTeam}}/{{.CloudEnvironment}}"
    version: 1
  auth:
    # method: token
    method: ldap
    enabled: true
    file: /tap/secret/vault-secret.yml